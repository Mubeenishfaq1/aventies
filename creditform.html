<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Credit Application</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Additional styles if needed */
    </style>
</head>
<body class="min-h-screen bg-gray-100 py-8">
    <main class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="bg-white p-8 rounded-lg shadow-md">
            <h1 class="text-3xl font-bold text-gray-800 mb-4 text-center">
                Credit Application
            </h1>
            <form id="creditForm" class="space-y-6">
                <!-- Personal Information -->
                <section class="p-4 border rounded mb-6">
                    <h2 class="text-2xl font-semibold text-gray-700 mb-4">
                        Personal Information
                    </h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label for="firstName" class="block text-sm font-medium text-gray-700">
                                First Name
                            </label>
                            <input type="text" id="firstName" name="firstName" class="w-full p-2 border rounded-md" required>
                        </div>
                        <div>
                            <label for="lastName" class="block text-sm font-medium text-gray-700">
                                Last Name
                            </label>
                            <input type="text" id="lastName" name="lastName" class="w-full p-2 border rounded-md" required>
                        </div>
                        <div>
                            <label for="dateOfBirth" class="block text-sm font-medium text-gray-700">
                                Date of Birth
                            </label>
                            <input type="date" id="dateOfBirth" name="dateOfBirth" class="w-full p-2 border rounded-md" required>
                        </div>
                        <div>
                            <label for="email" class="block text-sm font-medium text-gray-700">
                                Email Address
                            </label>
                            <input type="email" id="email" name="email" class="w-full p-2 border rounded-md" required>
                        </div>
                        <div class="md:col-span-2">
                            <label for="phone" class="block text-sm font-medium text-gray-700">
                                Phone Number
                            </label>
                            <input type="tel" id="phone" name="phone" class="w-full p-2 border rounded-md" required>
                        </div>
                    </div>
                </section>

                <!-- License Information -->
                <section class="p-4 border rounded mb-6">
                    <h2 class="text-2xl font-semibold text-gray-700 mb-4">
                        License Information
                    </h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label for="licenseNumber" class="block text-sm font-medium text-gray-700">
                                License Number
                            </label>
                            <input type="text" id="licenseNumber" name="licenseNumber" class="w-full p-2 border rounded-md" required>
                        </div>
                        <div>
                            <label for="licenseExpiryDate" class="block text-sm font-medium text-gray-700">
                                License Expiry Date
                            </label>
                            <input type="date" id="licenseExpiryDate" name="licenseExpiryDate" class="w-full p-2 border rounded-md" required>
                        </div>
                        <div>
                            <label for="sinNumber" class="block text-sm font-medium text-gray-700">
                                SIN Number
                            </label>
                            <input type="text" id="sinNumber" name="sinNumber" class="w-full p-2 border rounded-md" required>
                        </div>
                    </div>
                </section>

                <!-- Applicant Address -->
                <section class="p-4 border rounded mb-6">
                    <h2 class="text-2xl font-semibold text-gray-700 mb-4">
                        Applicant Address
                    </h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="md:col-span-2">
                            <label for="streetAddress" class="block text-sm font-medium text-gray-700">
                                Street Address
                            </label>
                            <input type="text" id="streetAddress" name="streetAddress" class="w-full p-2 border rounded-md" required>
                        </div>
                        <div>
                            <label for="city" class="block text-sm font-medium text-gray-700">
                                City
                            </label>
                            <input type="text" id="city" name="city" class="w-full p-2 border rounded-md" required>
                        </div>
                        <div>
                            <label for="province" class="block text-sm font-medium text-gray-700">
                                Province
                            </label>
                            <input type="text" id="province" name="province" class="w-full p-2 border rounded-md" required>
                        </div>
                        <div>
                            <label for="postalCode" class="block text-sm font-medium text-gray-700">
                                Postal Code
                            </label>
                            <input type="text" id="postalCode" name="postalCode" class="w-full p-2 border rounded-md" required>
                        </div>
                    </div>
                </section>

                <!-- Residence Details -->
                <section class="p-4 border rounded mb-6">
                    <h2 class="text-2xl font-semibold text-gray-700 mb-4">
                        Residence Details
                    </h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="md:col-span-2">
                            <label for="homeAddress" class="block text-sm font-medium text-gray-700">
                                Home Address
                            </label>
                            <input type="text" id="homeAddress" name="homeAddress" class="w-full p-2 border rounded-md" required>
                        </div>
                        <div>
                            <label for="residenceStatus" class="block text-sm font-medium text-gray-700">
                                Residence Status
                            </label>
                            <input type="text" id="residenceStatus" name="residenceStatus" class="w-full p-2 border rounded-md" required>
                        </div>
                        <div>
                            <label for="mortgageRentAmount" class="block text-sm font-medium text-gray-700">
                                Mortgage/Rent Amount
                            </label>
                            <input type="number" id="mortgageRentAmount" name="mortgageRentAmount" class="w-full p-2 border rounded-md" required>
                        </div>
                        <div>
                            <label for="durationAtAddress" class="block text-sm font-medium text-gray-700">
                                Duration at Address
                            </label>
                            <input type="text" id="durationAtAddress" name="durationAtAddress" class="w-full p-2 border rounded-md" required>
                        </div>
                    </div>
                </section>

                <!-- Employment Information -->
                <section class="p-4 border rounded mb-6">
                    <h2 class="text-2xl font-semibold text-gray-700 mb-4">
                        Employment Information
                    </h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="md:col-span-2">
                            <label for="employerName" class="block text-sm font-medium text-gray-700">
                                Employer Name
                            </label>
                            <input type="text" id="employerName" name="employerName" class="w-full p-2 border rounded-md" required>
                        </div>
                        <div class="md:col-span-2">
                            <label for="employerAddress" class="block text-sm font-medium text-gray-700">
                                Employer Address
                            </label>
                            <input type="text" id="employerAddress" name="employerAddress" class="w-full p-2 border rounded-md" required>
                        </div>
                        <div>
                            <label for="employerCity" class="block text-sm font-medium text-gray-700">
                                Employer City
                            </label>
                            <input type="text" id="employerCity" name="employerCity" class="w-full p-2 border rounded-md" required>
                        </div>
                        <div>
                            <label for="employerProvince" class="block text-sm font-medium text-gray-700">
                                Employer Province
                            </label>
                            <input type="text" id="employerProvince" name="employerProvince" class="w-full p-2 border rounded-md" required>
                        </div>
                        <div>
                            <label for="employerPostalCode" class="block text-sm font-medium text-gray-700">
                                Employer Postal Code
                            </label>
                            <input type="text" id="employerPostalCode" name="employerPostalCode" class="w-full p-2 border rounded-md" required>
                        </div>
                        <div>
                            <label for="selfEmployed" class="block text-sm font-medium text-gray-700">
                                Self Employed?
                            </label>
                            <select id="selfEmployed" name="selfEmployed" class="w-full p-2 border rounded-md" required>
                                <option value="">Select</option>
                                <option value="yes">Yes</option>
                                <option value="no">No</option>
                            </select>
                        </div>
                        <div>
                            <label for="jobTitle" class="block text-sm font-medium text-gray-700">
                                Job Title
                            </label>
                            <input type="text" id="jobTitle" name="jobTitle" class="w-full p-2 border rounded-md" required>
                        </div>
                        <div>
                            <label for="workPhone" class="block text-sm font-medium text-gray-700">
                                Work Phone
                            </label>
                            <input type="tel" id="workPhone" name="workPhone" class="w-full p-2 border rounded-md" required>
                        </div>
                        <div>
                            <label for="grossIncome" class="block text-sm font-medium text-gray-700">
                                Gross Income
                            </label>
                            <input type="number" id="grossIncome" name="grossIncome" class="w-full p-2 border rounded-md" required>
                        </div>
                        <div>
                            <label for="incomeFrequency" class="block text-sm font-medium text-gray-700">
                                Income Frequency
                            </label>
                            <input type="text" id="incomeFrequency" name="incomeFrequency" class="w-full p-2 border rounded-md" required>
                        </div>
                        <div>
                            <label for="employmentLength" class="block text-sm font-medium text-gray-700">
                                Employment Length
                            </label>
                            <input type="text" id="employmentLength" name="employmentLength" class="w-full p-2 border rounded-md" required>
                        </div>
                    </div>
                </section>

                <!-- Other Income -->
                <section class="p-4 border rounded mb-6">
                    <h2 class="text-2xl font-semibold text-gray-700 mb-4">
                        Other Income
                    </h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label for="otherIncomeSource" class="block text-sm font-medium text-gray-700">
                                Other Income Source
                            </label>
                            <input type="text" id="otherIncomeSource" name="otherIncomeSource" class="w-full p-2 border rounded-md">
                        </div>
                        <div>
                            <label for="otherAnnualIncome" class="block text-sm font-medium text-gray-700">
                                Other Annual Income
                            </label>
                            <input type="number" id="otherAnnualIncome" name="otherAnnualIncome" class="w-full p-2 border rounded-md">
                        </div>
                        <div>
                            <label for="otherMonthlyIncome" class="block text-sm font-medium text-gray-700">
                                Other Monthly Income
                            </label>
                            <input type="number" id="otherMonthlyIncome" name="otherMonthlyIncome" class="w-full p-2 border rounded-md">
                        </div>
                    </div>
                </section>

                <!-- Co-Applicant Information -->
                <section class="p-4 border rounded mb-6">
                    <h2 class="text-2xl font-semibold text-gray-700 mb-4">
                        Co-Applicant Information
                    </h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label for="coApplicantFirstName" class="block text-sm font-medium text-gray-700">
                                Co-Applicant First Name
                            </label>
                            <input type="text" id="coApplicantFirstName" name="coApplicantFirstName" class="w-full p-2 border rounded-md">
                        </div>
                        <div>
                            <label for="coApplicantLastName" class="block text-sm font-medium text-gray-700">
                                Co-Applicant Last Name
                            </label>
                            <input type="text" id="coApplicantLastName" name="coApplicantLastName" class="w-full p-2 border rounded-md">
                        </div>
                        <div>
                            <label for="coApplicantDateOfBirth" class="block text-sm font-medium text-gray-700">
                                Co-Applicant Date of Birth
                            </label>
                            <input type="date" id="coApplicantDateOfBirth" name="coApplicantDateOfBirth" class="w-full p-2 border rounded-md">
                        </div>
                        <div>
                            <label for="coApplicantEmail" class="block text-sm font-medium text-gray-700">
                                Co-Applicant Email
                            </label>
                            <input type="email" id="coApplicantEmail" name="coApplicantEmail" class="w-full p-2 border rounded-md">
                        </div>
                        <div>
                            <label for="coApplicantPhone" class="block text-sm font-medium text-gray-700">
                                Co-Applicant Phone
                            </label>
                            <input type="tel" id="coApplicantPhone" name="coApplicantPhone" class="w-full p-2 border rounded-md">
                        </div>
                    </div>
                </section>

                <!-- Trade-In / Vehicle Information -->
                <section class="p-4 border rounded mb-6">
                    <h2 class="text-2xl font-semibold text-gray-700 mb-4">
                        Trade-In / Vehicle Information
                    </h2>
                    <div class="grid grid-cols-1 gap-4">
                        <div>
                            <label for="tradeIn" class="block text-sm font-medium text-gray-700">
                                Do you have a Trade-In?
                            </label>
                            <select id="tradeIn" name="tradeIn" class="w-full p-2 border rounded-md" required>
                                <option value="no">No</option>
                                <option value="yes">Yes</option>
                                <option value="unsure">Unsure</option>
                            </select>
                        </div>
                        <div id="tradeInDetailsContainer" style="display: none;">
                            <label for="tradeInDetails" class="block text-sm font-medium text-gray-700">
                                Trade-In Details
                            </label>
                            <textarea id="tradeInDetails" name="tradeInDetails" class="w-full p-2 border rounded-md" rows="3"></textarea>
                        </div>
                        <div>
                            <label for="vin" class="block text-sm font-medium text-gray-700">
                                VIN
                            </label>
                            <input type="text" id="vin" name="vin" class="w-full p-2 border rounded-md">
                        </div>
                        <div>
                            <label for="odometer" class="block text-sm font-medium text-gray-700">
                                Odometer
                            </label>
                            <input type="number" id="odometer" name="odometer" class="w-full p-2 border rounded-md">
                        </div>
                        <div>
                            <label for="colour" class="block text-sm font-medium text-gray-700">
                                Colour
                            </label>
                            <input type="text" id="colour" name="colour" class="w-full p-2 border rounded-md">
                        </div>
                        <div>
                            <label for="vehicleTitle" class="block text-sm font-medium text-gray-700">
                                Vehicle Title
                            </label>
                            <input type="text" id="vehicleTitle" name="vehicleTitle" class="w-full p-2 border rounded-md">
                        </div>
                    </div>
                </section>

                <!-- Additional Comments -->
                <section class="p-4 border rounded mb-6">
                    <h2 class="text-2xl font-semibold text-gray-700 mb-4">
                        Additional Comments
                    </h2>
                    <div>
                        <textarea id="message" name="message" class="w-full p-2 border rounded-md" rows="4" placeholder="Any additional information you'd like to share..."></textarea>
                    </div>
                </section>

                <div class="flex justify-center">
                    <button type="submit" class="bg-blue-600 text-black px-6 py-2 rounded-md hover:bg-blue-700 transition duration-300">
                        Submit Application
                    </button>
                </div>
            </form>
        </div>
    </main>

    <script>
        // Handle form submission
        document.getElementById('creditForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            // Collect all form data
            const formData = new FormData(this);
            const data = {};
            formData.forEach((value, key) => {
                data[key] = value;
            });
            
            try {
                const response = await fetch(
                    "https://script.google.com/macros/s/AKfycbwXU5DHwAJn2BMpEr__spIdi8aC3vMWhaL_AgoflPQYDlJ5Ysl-m603QbZ0XbynLzE5/exec",
                    {
                        method: "POST",
                        headers: {
                            "Content-Type": "application/x-www-form-urlencoded;charset=UTF-8"
                        },
                        body: new URLSearchParams(data)
                    }
                );
                const result = await response.json();
                if (result.result === "success") {
                    alert("Your credit application has been submitted!");
                } else {
                    alert("Submission failed. Please try again.");
                }
            } catch (error) {
                console.error("Error submitting the application:", error);
                alert("There was an error submitting your application.");
            }
        });

        // Handle trade-in details visibility
        document.getElementById('tradeIn').addEventListener('change', function() {
            const tradeInDetailsContainer = document.getElementById('tradeInDetailsContainer');
            if (this.value === 'yes') {
                tradeInDetailsContainer.style.display = 'block';
            } else {
                tradeInDetailsContainer.style.display = 'none';
            }
        });

        // Scroll to top on page load
        window.addEventListener('load', function() {
            window.scrollTo(0, 0);
        });
    </script>
</body>
</html>